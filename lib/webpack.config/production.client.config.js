"use strict";require("webpack");const{merge:e}=require("webpack-merge"),s=require("path"),r=require("mini-css-extract-plugin"),i=require("./base.config"),n=require("../plugins/creat-version-plugin"),u=require("../plugins/creat-html-plugin"),{config:t,getTemplate:c}=require("../utils/common");let o=i(t);const a=process.cwd(),l=s.resolve(a,t.build),p="js/[name]@[chunkhash].js",m="css/[name]@[chunkhash].css";o.module.rules.map((e=>{/css|sass|less/.test(e.use)&&(e.use.shift(),e.use={loader:r.loader,options:{hmr:!0}})}));const h=[new r({filename:m,chunkFilename:m,ignoreOrder:!0}),new n(t),...u("production",o,c)];module.exports=()=>e(o,{output:{path:l,publicPath:t.static[process.env.NODE_ENV],chunkFilename:p,filename:p},target:"web",mode:"production",devtool:"source-map",plugins:h,performance:{hints:!1}});
