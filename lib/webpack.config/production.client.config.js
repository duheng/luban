"use strict";require("webpack");const{merge:e}=require("webpack-merge"),s=require("path"),r=require("mini-css-extract-plugin"),n=require("./base.config"),i=require("../plugins/creat-version-plugin"),u=require("../plugins/creat-html-plugin"),{config:t,getTemplate:c}=require("../utils/common");let o=n(t);const a=process.cwd(),l=s.resolve(a,t.build),p="css/[name]@[chunkhash].css";o.module.rules.map((e=>{/css|sass|less/.test(e.use)&&(e.use.shift(),e.use={loader:r.loader,options:{hmr:!0}})}));const m=[new r({filename:p,chunkFilename:p,ignoreOrder:!0}),new i(t),...u("production",o,c)];module.exports=()=>e(o,{output:{path:l,publicPath:t.static[process.env.NODE_ENV],chunkFilename:"js/[name]-[chunkhash:8].js",filename:"js/[name]@[chunkhash].js"},target:["web","es5"],mode:"production",devtool:"source-map",plugins:m,performance:{hints:!1}});
