"use strict";require("shelljs/global");const e=require("path");require("fs");const{printLog:l}=require("../utils/base"),{setDllVersion:r}=require("../utils/dllPitch"),{config:t,webpackCommand:i,useDllPath:s}=require("../utils/common"),o=e.resolve(__dirname,"..","webpack.config","webpack.dll");module.exports=async e=>{if(!(t.library&&Object.keys(t.library).length>0))return null;{l({text:"Build Dll..."}),await new Promise(((e,l)=>{exec(`${i} --config ${o} --mode production --no-stats`),e(!0)}));const e=s();r(e,t),l({text:"Build Dll Complete."})}};
