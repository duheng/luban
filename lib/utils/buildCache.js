"use strict";const e=require("path"),c=require("fs"),r=process.cwd(),{exec:o}=require("child_process");console.log("devMode-----",global.envs);const{skipLubanCache:n=!1,NODE_ENV:a,deploy_type:s}=process.env,l=c.existsSync("/home/q/prj/npm"),h=!("true"==n||1==n),i=l?e.join("/home/q/prj/npm"):e.join(r),u=e.basename(r),p=`.luban-cache/luban-cache-loader/${u}`,t=e.resolve(e.join(i,p)),$=`.luban-cache/luban-cache-dll/${u}`,b=e.resolve(e.join(i,$)),m=`.luban-cache/terser-cache/${u}`,d=e.resolve(e.join(i,m)),j=()=>{o(`rm -rf ${t}`,((e,c,r)=>{})),o(`rm -rf ${d}`,((e,c,r)=>{}))};h||(j(),o(`rm -rf ${b}`,((e,c,r)=>{}))),l&&console.log(`环境变量skipLubanCache的值是: ${n}\n是否有BUILDENV环境变量: ${BUILDENV}\n是否使用缓存模式: ${h}\n缓存路径是: ${t}`),module.exports={useCache:h,cacheDirectory:t,cacheDllDirectory:b,cleanCache:j};
