"use strict";const e=require("path"),c=require("fs"),r=process.cwd(),{exec:a}=require("child_process"),{skipLubanCache:n=!1,NODE_ENV:o,deploy_type:s}=process.env,l=c.existsSync("/home/q/prj/npm"),h=!("true"==n||1==n),i=l?e.join("/home/q/prj/npm"):e.join(r),u=e.basename(r),p=`.luban-cache/luban-cache-loader/${u}`,t=e.resolve(e.join(i,p)),$=`.luban-cache/luban-cache-dll/${u}`,m=e.resolve(e.join(i,$)),b=`.luban-cache/terser-cache/${u}`,j=e.resolve(e.join(i,b)),d=()=>{a(`rm -rf ${t}`,((e,c,r)=>{})),a(`rm -rf ${j}`,((e,c,r)=>{}))};h||(d(),a(`rm -rf ${m}`,((e,c,r)=>{}))),l&&console.log(`环境变量skipLubanCache的值是: ${n}\n是否有BUILDENV环境变量: ${BUILDENV}\n是否使用缓存模式: ${h}\n缓存路径是: ${t}`),module.exports={useCache:h,cacheDirectory:t,cacheDllDirectory:m,cleanCache:d};
