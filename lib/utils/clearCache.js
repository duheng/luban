"use strict";require("shelljs/global");const e=require("fs"),s=require("path"),r=require("crypto"),{cacheDirectory:t}=require("./buildCache"),c=process.cwd(),n=require(s.join(c,"package.json")),i=e=>r.createHash("md5").update(e).digest("hex"),d=s=>{const r=n&&n.dependencies?n.dependencies:{};if(Object.keys(r).length>0&&e.existsSync(s)){return!((s,r)=>{const t=`${s}/${i(r)}.txt`;return!!e.existsSync(t)})(s,JSON.stringify(r))}return!1};module.exports={changeCache:e=>{const s=`${t}/${e}`;d(s)&&rm("-rf",`${s}/*`)},setCacheVersion:s=>{const r=`${t}/${s}`,c=n&&n.dependencies?n.dependencies:{},d=JSON.stringify(c),o=`${r}/${i(d)}.txt`;!e.existsSync(r)&&mkdir("-p",r),!e.existsSync(o)&&touch(o)}};
