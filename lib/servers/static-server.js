"use strict";const e=require("path"),t=require("fs"),s=new(require("koa")),r=require("koa-static"),o=process.cwd();module.exports=i=>{const n=e.join(o,i.build);s.use(r(n));s.use((async(s,r)=>{const o=(e=>{const t=Object.keys(i.entry);let s="";if(1==t.length)s=t[0];else{const r=e.split("/").pop().split(".")[0];s=t.indexOf(r)>-1?r:"404"}return`${s}.html`})(s.url),c=e.join(n,o);s.type="html",s.body=t.createReadStream(c),await r()})),s.listen(i.port,(()=>{console.log(`🌍 start service at http://${i.host}:${i.port}\n`)}))};
