"use strict";const t=require("path");require("fs");const e=require("express"),s=e(),n=process.cwd();module.exports=o=>{const r=t.join(n,o.build);s.use(e.static(r));s.use((async(e,s,n)=>{const c=(t=>{const e=Object.keys(o.entry);let s="";if(1==e.length)s=e[0];else{const n=t.split("/").pop().split(".")[0];s=e.indexOf(n)>-1?n:"404"}return`${s}.html`})(e.url),i=t.join(r,c);s.set("content-type","text/html"),s.send(i),s.end()})),s.listen(o.port,(()=>{console.log(`🌍 start service at http://${o.host}:${o.port}\n`)}))};
